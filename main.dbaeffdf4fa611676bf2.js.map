{"version":3,"sources":["webpack:///./java-script/apiService.js","webpack:///./java-script/handleModal.js","webpack:///./java-script/handleInput.js","webpack:///./java-script/handleBtn.js","webpack:///./java-script/mainGallery.js","webpack:///./templates/gallery.hbs"],"names":["API_KEY","getFullRequest","searchWord","searchPage","fetch","this","then","res","json","readyRenderingUl","document","querySelector","photoModalDom","modalImgListener","addEventListener","e","target","tagName","srcFullPhoto","dataset","set","altTextPhotoFull","alt","setAttribute","classList","remove","add","inputInFormDom","formDom","renderWithButton","deleteRenderButton","climbUpButton","switchBtn","flag","warn","replace","alert","text","debounce","removeEventListener","innerHTML","value","require","renderFn","trim","toLocaleLowerCase","apiService","total","hits","length","insertAdjacentHTML","menuTemplate","viewPortHeight","getElementsByTagName","clientHeight","window","scrollTo","catch","err","console","error","even","preventDefault","IntersectionObserver","entries","forEach","scrollY","root","rootMargin","threshold","observe","Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.dbaeffdf4fa611676bf2.js","sourcesContent":["export default {\r\n  API_KEY: `18650753-c8867d24a687d3baeda70b1dc`,\r\n  getFullRequest(searchWord, searchPage) {\r\n    return fetch(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchWord}&page=${searchPage}&per_page=12&key=${this.API_KEY}`,\r\n    ).then(res => {\r\n      return res.json();\r\n    });\r\n  },\r\n};\r\n","const readyRenderingUl = document.querySelector('ul');\r\nconst photoModalDom = document.querySelector('.photoModal');\r\n\r\nconst modalImgListener = readyRenderingUl.addEventListener('click', e => {\r\n  if (e.target.tagName === 'IMG') {\r\n    const srcFullPhoto = e.target.dataset.set;\r\n    const altTextPhotoFull = e.target.alt;\r\n    photoModalDom.setAttribute('src', `${srcFullPhoto}`);\r\n    photoModalDom.setAttribute('alt', `${altTextPhotoFull}`);\r\n    photoModalDom.classList.remove('remove-before-modal');\r\n    photoModalDom.classList.add('remove-after-modal');\r\n    return;\r\n  }\r\n\r\n  photoModalDom.setAttribute('src', ``);\r\n  photoModalDom.setAttribute('alt', ``);\r\n  photoModalDom.classList.add('remove-before-modal');\r\n  photoModalDom.classList.remove('remove-after-modal');\r\n});\r\n\r\nexport { readyRenderingUl, photoModalDom, modalImgListener };\r\n","const inputInFormDom = document.querySelector('input');\r\nconst formDom = document.querySelector('form');\r\nexport { inputInFormDom, formDom };\r\n","import { alert } from '@pnotify/core';\r\nimport {\r\n  readyRenderingUl,\r\n  modalImgListener,\r\n  photoModalDom,\r\n} from './handleModal.js';\r\nimport { inputInFormDom } from './handleInput.js';\r\n\r\nconst renderWithButton = document.querySelector('.add-button');\r\nconst deleteRenderButton = document.querySelector('.delete-button__dom');\r\nconst climbUpButton = document.querySelector('.climb-up-button');\r\nconst switchBtn = (flag, warn) => {\r\n  if (!flag) {\r\n    renderWithButton.classList.replace('load-more', 'load-more__display-none');\r\n    deleteRenderButton.classList.replace(\r\n      'delete-button',\r\n      'delete-button__display-none',\r\n    );\r\n    climbUpButton.classList.replace(\r\n      'climb-up-button',\r\n      'climb-up__display-none',\r\n    );\r\n    warn &&\r\n      alert({\r\n        text: warn,\r\n      });\r\n    return;\r\n  }\r\n  if (flag) {\r\n    renderWithButton.classList.replace('load-more__display-none', 'load-more');\r\n    deleteRenderButton.classList.replace(\r\n      'delete-button__display-none',\r\n      'delete-button',\r\n    );\r\n    climbUpButton.classList.replace(\r\n      'climb-up__display-none',\r\n      'climb-up-button',\r\n    );\r\n    return;\r\n  }\r\n};\r\nconst deleteBtnListener = deleteRenderButton.addEventListener('click', e => {\r\n  document.removeEventListener('click', modalImgListener);\r\n  photoModalDom.setAttribute('src', ``);\r\n  photoModalDom.setAttribute('alt', ``);\r\n  photoModalDom.classList.add('remove-before-modal');\r\n  photoModalDom.classList.remove('remove-after-modal');\r\n  readyRenderingUl.innerHTML = '';\r\n  inputInFormDom.value = '';\r\n  switchBtn(false);\r\n});\r\n\r\nexport { renderWithButton, deleteRenderButton, switchBtn, deleteBtnListener };\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport menuTemplate from '../templates/gallery.hbs';\r\nimport apiService from './apiService.js';\r\nimport { renderWithButton, switchBtn } from './handleBtn.js';\r\nimport { readyRenderingUl } from './handleModal.js';\r\nimport { inputInFormDom, formDom } from './handleInput.js';\r\n\r\nlet debounce = require('lodash.debounce');\r\nlet searchPage = 1;\r\n\r\nfunction renderFn() {\r\n  const searchWord = inputInFormDom.value.trim().toLocaleLowerCase();\r\n  if (searchWord === '') {\r\n    return switchBtn(false, 'field must filed');\r\n  }\r\n  apiService\r\n    .getFullRequest(searchWord, searchPage)\r\n    .then(({ total, hits }) => {\r\n      if (hits.length % 4 != 0) return;\r\n      if (total === 0) {\r\n        inputInFormDom.value = '';\r\n        switchBtn(false, \"we don't have photo with this name.\");\r\n        return;\r\n      }\r\n      readyRenderingUl.insertAdjacentHTML('beforeend', menuTemplate(hits));\r\n      const viewPortHeight = document.getElementsByTagName('body')[0]\r\n        .clientHeight;\r\n      window.scrollTo(0, viewPortHeight - 1500);\r\n      return readyRenderingUl;\r\n    })\r\n    .catch(err => console.error(err));\r\n}\r\nformDom.addEventListener('submit', even => {\r\n  even.preventDefault();\r\n});\r\n\r\ninputInFormDom.addEventListener(\r\n  'input',\r\n  debounce(() => {\r\n    searchPage = 1;\r\n    readyRenderingUl.innerHTML = '';\r\n    switchBtn(true);\r\n    renderFn();\r\n  }, 500),\r\n);\r\n\r\nrenderWithButton.addEventListener('click', e => {\r\n  searchPage = searchPage + 1;\r\n  renderFn();\r\n});\r\n\r\nwindow.addEventListener(\r\n  'scroll',\r\n  debounce(e => {\r\n    const options = {\r\n      root: null,\r\n      rootMargin: '0px',\r\n      threshold: 1,\r\n    };\r\n    if (inputInFormDom.value === '') return;\r\n    const observer = new IntersectionObserver(entries => {\r\n      entries.forEach(() => {\r\n        const scrolled = window.scrollY;\r\n        const viewPortHeight = document.getElementsByTagName('body')[0]\r\n          .clientHeight;\r\n        if (scrolled > viewPortHeight - 1498) {\r\n          searchPage = searchPage + 1;\r\n          renderFn();\r\n          return;\r\n        }\r\n      });\r\n    }, options);\r\n    observer.observe(readyRenderingUl);\r\n  }, 1000),\r\n);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery__item\\\">\\r\\n  <div class=\\\"photo-card\\\">\\r\\n    <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"user\") : depth0), depth0))\n    + \"\\\" class=\\\"gallery__img\\\" data-set=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons like\\\">thumb_up</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons view\\\">visibility</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons comment\\\">comment</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons icons\\\">cloud_download</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}